# ã‚¿ã‚¹ã‚¯5: ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³è‡ªå‹•æ¤œçŸ¥æ©Ÿèƒ½ã®è¨­è¨ˆ

## æ¦‚è¦

TODOé …ç›®5ã®å®Ÿè£…ï¼š
ã€ŒLoLã®ã‚²ãƒ¼ãƒ å†…ã§è‡ªåˆ†ãŒä½¿ã£ã¦ã„ã‚‹ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã‚’æ¤œçŸ¥ã—ã€ã“ã®ã‚¢ãƒ—ãƒªå†…ã§ãã®ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã®ãƒ“ãƒ«ãƒ‰ãƒšãƒ¼ã‚¸ãŒè‡ªå‹•ã§é–‹ã‹ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ã€

## ç›®çš„

ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒLoLï¼ˆLeague of Legendsï¼‰ã®ã‚²ãƒ¼ãƒ ä¸­ã«ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã‚’è‡ªå‹•çš„ã«æ¤œçŸ¥ã—ã€ãã®ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã®ãƒ“ãƒ«ãƒ‰ãƒšãƒ¼ã‚¸ï¼ˆLoLAnalyticsï¼‰ã‚’ã‚¢ãƒ—ãƒªå†…ã§è‡ªå‹•çš„ã«é–‹ãæ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹ã€‚

---

## ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®é¸æŠè‚¢

### 1. **LCU API (League Client Update API)** â­ æ¨å¥¨
- **æ¦‚è¦**: LoLã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒãƒ­ãƒ¼ã‚«ãƒ«ã§æä¾›ã™ã‚‹å…¬å¼REST API
- **ãƒ¡ãƒªãƒƒãƒˆ**:
  - Riot GamesãŒè¨±å¯ã—ã¦ã„ã‚‹æ–¹æ³•
  - ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³é¸æŠãƒ•ã‚§ãƒ¼ã‚ºã¨ã‚²ãƒ¼ãƒ ä¸­ã®ä¸¡æ–¹ã§ä½¿ç”¨å¯èƒ½
  - WebSocketã«ã‚ˆã‚‹ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥ãŒå¯èƒ½
  - è±Šå¯Œãªã‚²ãƒ¼ãƒ æƒ…å ±ã‚’å–å¾—å¯èƒ½
- **ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
  - éå…¬å¼ã‚µãƒãƒ¼ãƒˆï¼ˆå°†æ¥çš„ã«å¤‰æ›´ã•ã‚Œã‚‹å¯èƒ½æ€§ã‚ã‚Šï¼‰
  - ãƒãƒ¼ãƒˆç•ªå·ã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®å‹•çš„å–å¾—ãŒå¿…è¦

### 2. **Live Client Data API** â­ æ¨å¥¨ï¼ˆä½µç”¨ï¼‰
- **æ¦‚è¦**: ã‚²ãƒ¼ãƒ ä¸­ã®ã¿åˆ©ç”¨å¯èƒ½ãªãƒ­ãƒ¼ã‚«ãƒ«API
- **ãƒ¡ãƒªãƒƒãƒˆ**:
  - èªè¨¼ä¸è¦
  - ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
  - ã‚¤ãƒ³ã‚²ãƒ¼ãƒ æƒ…å ±ã«ç‰¹åŒ–
- **ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
  - ã‚²ãƒ¼ãƒ ä¸­ã®ã¿åˆ©ç”¨å¯èƒ½ï¼ˆãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³é¸æŠãƒ•ã‚§ãƒ¼ã‚ºã§ã¯ä½¿ãˆãªã„ï¼‰
  - è‡ªå·±ç½²åè¨¼æ˜æ›¸ã®å‡¦ç†ãŒå¿…è¦

### 3. **Riot Gameså…¬å¼API**
- **æ¦‚è¦**: Webãƒ™ãƒ¼ã‚¹ã®å…¬å¼API
- **ãƒ¡ãƒªãƒƒãƒˆ**: å…¬å¼ã‚µãƒãƒ¼ãƒˆ
- **ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
  - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¤œçŸ¥ã«ã¯ä¸å‘ã
  - APIã‚­ãƒ¼ã¨ãƒ¬ãƒ¼ãƒˆåˆ¶é™
  - è©¦åˆå¾Œã®ãƒ‡ãƒ¼ã‚¿å–å¾—ãŒä¸»ç›®çš„

### 4. **ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«è§£æ**
- **ãƒ¡ãƒªãƒƒãƒˆ**: è¿½åŠ èªè¨¼ä¸è¦
- **ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
  - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§ã«æ¬ ã‘ã‚‹
  - ãƒ­ã‚°ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®å¤‰æ›´ãƒªã‚¹ã‚¯
  - ä¿¡é ¼æ€§ãŒä½ã„

### 5. **ãƒ¡ãƒ¢ãƒªèª­ã¿å–ã‚Š**
- **å´ä¸‹ç†ç”±**: Riot Gamesåˆ©ç”¨è¦ç´„ï¼ˆToSï¼‰é•åã®å¯èƒ½æ€§ãŒé«˜ã„

---

## æ¨å¥¨å®Ÿè£…ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

**LCU APIå˜ç‹¬ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ** â­ **æœ€é©è§£**

ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³é¸æŠæ™‚ã«ç¢ºå®šã—ãŸãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã¯ã‚²ãƒ¼ãƒ ä¸­å¤‰ã‚ã‚‰ãªã„ãŸã‚ã€**LCU APIã®ã¿ã§ååˆ†**ã§ã™ã€‚

### å®Ÿè£…æ–¹é‡

1. **ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³é¸æŠã®ç›£è¦–**: LCU APIã‚’ä½¿ç”¨
   - `/lol-champ-select/v1/session` ã§ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³é¸æŠã‚’æ¤œçŸ¥
   - WebSocketã‚¤ãƒ™ãƒ³ãƒˆã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ï¼ˆæ¨å¥¨ï¼‰
   - **è‡ªåˆ†ã®ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³**: `myTeam[localPlayerCellId].championId`
   - **ç›¸æ‰‹ã®ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³**: `theirTeam[]` ã‹ã‚‰å…¨å“¡å–å¾—å¯èƒ½ â†’ ã‚¿ã‚¹ã‚¯7ã§åˆ©ç”¨
   - **Banæƒ…å ±**: `bans.myTeamBans` / `bans.theirTeamBans`

2. **çŠ¶æ…‹ç®¡ç†**: `/lol-gameflow/v1/session` ã§ã‚²ãƒ¼ãƒ ãƒ•ã‚§ãƒ¼ã‚ºã‚’ç›£è¦–
   - `ChampSelect`: ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³é¸æŠä¸­ â†’ ã“ã“ã§æ¤œçŸ¥
   - `InProgress`: ã‚²ãƒ¼ãƒ ä¸­ â†’ é¸æŠæ¸ˆã¿ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã‚’ä¿æŒ
   - `None`: ãƒ¡ã‚¤ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ çŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆ

3. **Live Client Data API**: ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆéæ¨å¥¨ï¼‰
   - ã‚²ãƒ¼ãƒ ä¸­ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å–å¾—ã«ã¯æœ‰ç”¨
   - ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³æ¤œçŸ¥ã«ã¯ä¸è¦ï¼ˆé¸æŠæ™‚ã«ç¢ºå®šæ¸ˆã¿ï¼‰

---

## LCU API è©³ç´°

### èªè¨¼æ–¹æ³•

#### 1. Lockfileã‹ã‚‰ã®å–å¾—ï¼ˆæ¨å¥¨ï¼‰

**Lockfileã®å ´æ‰€**:
- Windows: `C:\Riot Games\League of Legends\lockfile`
- ã¾ãŸã¯: `%LocalAppData%\Riot Games\Riot Client\Config\lockfile`

**Lockfileã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**:
```
LeagueClient:<PID>:<PORT>:<PASSWORD>:<PROTOCOL>
```

ä¾‹:
```
LeagueClient:12345:54321:abcdefghijklmnop:https
```

**è§£ææ–¹æ³•**:
```python
def read_lockfile():
    lockfile_path = r"C:\Riot Games\League of Legends\lockfile"
    with open(lockfile_path, 'r') as f:
        data = f.read().split(':')
        return {
            'process': data[0],
            'pid': data[1],
            'port': data[2],
            'password': data[3],
            'protocol': data[4]
        }
```

#### 2. ãƒ—ãƒ­ã‚»ã‚¹ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰ã®å–å¾—ï¼ˆä»£æ›¿æ‰‹æ®µï¼‰

**Windows**:
```bash
wmic PROCESS WHERE name='LeagueClientUx.exe' GET commandline
```

ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã‹ã‚‰ä»¥ä¸‹ã‚’æŠ½å‡º:
- `--app-port=<PORT>`
- `--remoting-auth-token=<PASSWORD>`

**èªè¨¼ãƒ˜ãƒƒãƒ€ãƒ¼ã®ä½œæˆ**:
```python
import base64

def create_auth_header(password):
    username = "riot"
    credentials = f"{username}:{password}"
    encoded = base64.b64encode(credentials.encode()).decode()
    return f"Basic {encoded}"
```

### åŸºæœ¬ãƒªã‚¯ã‚¨ã‚¹ãƒˆ

```python
import requests
import urllib3

# è‡ªå·±ç½²åè¨¼æ˜æ›¸ã®è­¦å‘Šã‚’ç„¡è¦–
urllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)

def make_lcu_request(port, password, endpoint):
    base_url = f"https://127.0.0.1:{port}"
    headers = {
        'Authorization': create_auth_header(password)
    }
    response = requests.get(
        f"{base_url}{endpoint}",
        headers=headers,
        verify=False  # è‡ªå·±ç½²åè¨¼æ˜æ›¸ã‚’è¨±å¯
    )
    return response.json()
```

### ä¸»è¦ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

#### 1. ã‚²ãƒ¼ãƒ ãƒ•ãƒ­ãƒ¼çŠ¶æ…‹ã®å–å¾—
```
GET /lol-gameflow/v1/session
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹**:
```json
{
  "phase": "InProgress",  // None, Lobby, ChampSelect, GameStart, InProgress, WaitingForStats
  "gameData": {
    "queue": {
      "gameMode": "CLASSIC"
    }
  }
}
```

#### 2. ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³é¸æŠã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼ˆæœ€é‡è¦ï¼‰
```
GET /lol-champ-select/v1/session
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹**:
```json
{
  "localPlayerCellId": 0,
  "myTeam": [
    {
      "cellId": 0,
      "championId": 22,
      "championPickIntent": 22,
      "summonerId": 12345,
      "spell1Id": 4,
      "spell2Id": 14,
      "assignedPosition": "bottom"
    }
  ],
  "theirTeam": [
    {
      "cellId": 0,
      "championId": 51,
      "summonerId": 67890
    },
    {
      "cellId": 1,
      "championId": 238,
      "summonerId": 67891
    }
  ],
  "bans": {
    "myTeamBans": [157, 555, 221],
    "theirTeamBans": [234, 875, 350],
    "numBans": 6
  },
  "timer": {
    "phase": "BAN_PICK",
    "adjustedTimeLeftInPhase": 30000
  }
}
```

**é‡è¦ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰**:
- `localPlayerCellId`: è‡ªåˆ†ã®cellIdï¼ˆmyTeamã‹ã‚‰è‡ªåˆ†ã‚’ç‰¹å®šï¼‰
- `myTeam[]`: è‡ªåˆ†ã®ãƒãƒ¼ãƒ ã®å…¨æƒ…å ±
- `theirTeam[]`: **ç›¸æ‰‹ãƒãƒ¼ãƒ ã®å…¨æƒ…å ±** â†’ ã‚¿ã‚¹ã‚¯7ã§ä½¿ç”¨ï¼
- `bans`: Banæƒ…å ±ï¼ˆchampionIdã®é…åˆ—ï¼‰
- `championId`: ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã®IDï¼ˆData Dragonã§åå‰ã«å¤‰æ›å¯èƒ½ï¼‰

#### 3. ç¾åœ¨ã®ã‚µãƒ¢ãƒŠãƒ¼æƒ…å ±
```
GET /lol-summoner/v1/current-summoner
```

### WebSocketã‚¤ãƒ™ãƒ³ãƒˆç›£è¦–

#### æ¥ç¶šæ–¹æ³•

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**:
```
wss://127.0.0.1:<PORT>/
```

**ãƒ—ãƒ­ãƒˆã‚³ãƒ«**: WAMP 1.0ï¼ˆWebSocket Application Messaging Protocolï¼‰

**æ¥ç¶šä¾‹ï¼ˆPythonï¼‰**:
```python
import websocket
import json
import ssl

def on_message(ws, message):
    data = json.loads(message)
    if len(data) >= 3:
        opcode = data[0]
        if opcode == 8:  # Event
            event_type = data[1]
            event_data = data[2]
            print(f"Event: {event_type}")
            print(f"Data: {event_data}")

def connect_websocket(port, password):
    ws_url = f"wss://127.0.0.1:{port}/"
    headers = {
        'Authorization': create_auth_header(password)
    }

    ws = websocket.WebSocketApp(
        ws_url,
        header=headers,
        on_message=on_message
    )

    # è‡ªå·±ç½²åè¨¼æ˜æ›¸ã‚’è¨±å¯
    ws.run_forever(sslopt={"cert_reqs": ssl.CERT_NONE})
```

#### ã‚¤ãƒ™ãƒ³ãƒˆã®è³¼èª­

**è³¼èª­ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é€ä¿¡**:
```python
# ã™ã¹ã¦ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’è³¼èª­
subscribe_message = [5, "OnJsonApiEvent"]
ws.send(json.dumps(subscribe_message))

# ç‰¹å®šã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ã¿è³¼èª­
subscribe_champ_select = [5, "OnJsonApiEvent_lol-champ-select_v1_session"]
ws.send(json.dumps(subscribe_champ_select))
```

**WAMP 1.0 Opcodes**:
- `5`: Subscribeï¼ˆè³¼èª­ï¼‰
- `6`: Unsubscribeï¼ˆè³¼èª­è§£é™¤ï¼‰
- `8`: Eventï¼ˆã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥ï¼‰

#### ä¸»è¦ã‚¤ãƒ™ãƒ³ãƒˆ

1. **OnJsonApiEvent**: ã™ã¹ã¦ã®JSON APIã‚¤ãƒ™ãƒ³ãƒˆ
2. **OnJsonApiEvent_lol-champ-select_v1_session**: ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³é¸æŠã®å¤‰æ›´
3. **OnJsonApiEvent_lol-gameflow_v1_session**: ã‚²ãƒ¼ãƒ ãƒ•ãƒ­ãƒ¼çŠ¶æ…‹ã®å¤‰æ›´
4. **OnSummonerSelectedChampion**: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã‚’é¸æŠ
5. **OnChampSelectTurnToPick**: ãƒ”ãƒƒã‚¯/ãƒãƒ³ã®ã‚¿ãƒ¼ãƒ³
6. **OnSessionUpdated**: ã‚»ãƒƒã‚·ãƒ§ãƒ³æ›´æ–°

---

## Live Client Data API è©³ç´°

> **æ³¨æ„**: ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³æ¤œçŸ¥ã«ã¯LCU APIã§ååˆ†ãªãŸã‚ã€ã“ã®APIã¯**ã‚ªãƒ—ã‚·ãƒ§ãƒ³**ã§ã™ã€‚
> ã‚²ãƒ¼ãƒ ä¸­ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ çµ±è¨ˆæƒ…å ±ï¼ˆHPã€ã‚´ãƒ¼ãƒ«ãƒ‰ã€ãƒ¬ãƒ™ãƒ«ãªã©ï¼‰ã‚’å–å¾—ã—ãŸã„å ´åˆã®ã¿ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

### åŸºæœ¬æƒ…å ±

- **ãƒ™ãƒ¼ã‚¹URL**: `https://127.0.0.1:2999/liveclientdata/`
- **èªè¨¼**: ä¸è¦
- **åˆ©ç”¨å¯èƒ½æ™‚æœŸ**: ã‚²ãƒ¼ãƒ ä¸­ã®ã¿ï¼ˆãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³é¸æŠä¸­ã¯åˆ©ç”¨ä¸å¯ï¼‰
- **è¨¼æ˜æ›¸**: è‡ªå·±ç½²åè¨¼æ˜æ›¸ï¼ˆSSLæ¤œè¨¼ã‚’ã‚¹ã‚­ãƒƒãƒ—ã™ã‚‹å¿…è¦ã‚ã‚Šï¼‰
- **ç”¨é€”**: ã‚²ãƒ¼ãƒ ä¸­ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ çµ±è¨ˆï¼ˆãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³æ¤œçŸ¥ã«ã¯ä¸è¦ï¼‰

### ä¸»è¦ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

#### 1. ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æƒ…å ±ï¼ˆæœ€é‡è¦ï¼‰
```
GET https://127.0.0.1:2999/liveclientdata/activeplayer
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹**:
```json
{
  "abilities": {
    "Passive": {...},
    "Q": {...},
    "W": {...},
    "E": {...},
    "R": {...}
  },
  "championStats": {
    "abilityPower": 0,
    "armor": 36,
    "armorPenetrationFlat": 0,
    "attackDamage": 61.11,
    "currentHealth": 580,
    "maxHealth": 580
  },
  "currentGold": 500,
  "level": 1,
  "summonerName": "PlayerName"
}
```

#### 2. å…¨ã‚²ãƒ¼ãƒ ãƒ‡ãƒ¼ã‚¿
```
GET https://127.0.0.1:2999/liveclientdata/allgamedata
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹**:
```json
{
  "activePlayer": {
    "summonerName": "PlayerName"
  },
  "allPlayers": [
    {
      "championName": "Ashe",
      "isBot": false,
      "isDead": false,
      "items": [...],
      "level": 1,
      "position": "BOTTOM",
      "rawChampionName": "game_character_displayname_Ashe",
      "summonerName": "PlayerName",
      "team": "ORDER"
    }
  ],
  "gameData": {
    "gameMode": "CLASSIC",
    "gameTime": 45.5,
    "mapName": "Map11",
    "mapNumber": 11
  }
}
```

**é‡è¦**: `allPlayers`é…åˆ—ã‹ã‚‰`activePlayer.summonerName`ã¨ä¸€è‡´ã™ã‚‹ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ã§ã€ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³åã‚’å–å¾—ã§ãã¾ã™ã€‚

#### 3. ãã®ä»–ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

```
GET /liveclientdata/activeplayername       # ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼åã®ã¿
GET /liveclientdata/activeplayerabilities  # ã‚¢ãƒ“ãƒªãƒ†ã‚£æƒ…å ±
GET /liveclientdata/activeplayerrunes      # ãƒ«ãƒ¼ãƒ³æƒ…å ±
GET /liveclientdata/playerlist             # å…¨ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒªã‚¹ãƒˆ
GET /liveclientdata/gamestats              # ã‚²ãƒ¼ãƒ çµ±è¨ˆ
GET /liveclientdata/eventdata              # ã‚²ãƒ¼ãƒ ã‚¤ãƒ™ãƒ³ãƒˆ
```

### ãƒªã‚¯ã‚¨ã‚¹ãƒˆå®Ÿè£…ä¾‹

```python
import requests
import urllib3

urllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)

def get_current_champion():
    """
    ã‚²ãƒ¼ãƒ ä¸­ã®ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³åã‚’å–å¾—
    """
    try:
        # å…¨ã‚²ãƒ¼ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
        response = requests.get(
            "https://127.0.0.1:2999/liveclientdata/allgamedata",
            verify=False,
            timeout=5
        )

        if response.status_code == 200:
            data = response.json()
            active_player_name = data['activePlayer']['summonerName']

            # å…¨ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‹ã‚‰ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’æ¢ã™
            for player in data['allPlayers']:
                if player['summonerName'] == active_player_name:
                    champion_name = player['championName']
                    return champion_name

        return None
    except requests.exceptions.RequestException:
        # ã‚²ãƒ¼ãƒ ä¸­ã§ãªã„å ´åˆã¯æ¥ç¶šã‚¨ãƒ©ãƒ¼
        return None
```

---

## å®Ÿè£…ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### å…¨ä½“æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         lol-viewer Application          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Champion Detection Service      â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ â€¢ LCU Connection Manager          â”‚  â”‚
â”‚  â”‚ â€¢ Live Client Monitor             â”‚  â”‚
â”‚  â”‚ â€¢ Game Phase Tracker              â”‚  â”‚
â”‚  â”‚ â€¢ Event Listener (WebSocket)      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   UI Controller                   â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ â€¢ WebView Manager                 â”‚  â”‚
â”‚  â”‚ â€¢ Auto-open LoLAnalytics          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                    â”‚
           â–¼                    â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ LCU API  â”‚         â”‚ Live Client  â”‚
    â”‚(Dynamic  â”‚         â”‚  Data API    â”‚
    â”‚  Port)   â”‚         â”‚  (Port 2999) â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### çŠ¶æ…‹é·ç§»å›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  Client Start   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  Enter Queue   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Idle   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ Connected to â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ Champ Select â”‚
â”‚  State  â”‚                 â”‚     LCU      â”‚                â”‚    Phase     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                    â”‚
                                                                    â”‚ Lock In
                                                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  Game End    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  Game Start    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Stats  â”‚ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  In Progress â”‚ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ Game Loading â”‚
â”‚  Screen â”‚             â”‚   (In-Game)  â”‚                â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆ

#### 1. **LCUConnectionManager**
```python
class LCUConnectionManager:
    """LCU APIã¸ã®æ¥ç¶šã‚’ç®¡ç†"""

    def __init__(self):
        self.port = None
        self.password = None
        self.connected = False

    def connect(self):
        """Lockfileã‹ã‚‰ãƒãƒ¼ãƒˆã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å–å¾—ã—ã¦æ¥ç¶š"""
        pass

    def is_client_running(self):
        """LoLã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹ç¢ºèª"""
        pass

    def get_auth_header(self):
        """èªè¨¼ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’è¿”ã™"""
        pass
```

#### 2. **GamePhaseTracker**
```python
class GamePhaseTracker:
    """ã‚²ãƒ¼ãƒ ãƒ•ã‚§ãƒ¼ã‚ºã‚’è¿½è·¡"""

    def __init__(self, lcu_manager):
        self.lcu_manager = lcu_manager
        self.current_phase = "None"

    def update_phase(self):
        """ç¾åœ¨ã®ã‚²ãƒ¼ãƒ ãƒ•ã‚§ãƒ¼ã‚ºã‚’æ›´æ–°"""
        # GET /lol-gameflow/v1/session
        pass

    def is_in_champ_select(self):
        return self.current_phase == "ChampSelect"

    def is_in_game(self):
        return self.current_phase == "InProgress"
```

#### 3. **ChampionDetector**
```python
class ChampionDetector:
    """ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³æ¤œçŸ¥ã®ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯"""

    def __init__(self, lcu_manager, phase_tracker):
        self.lcu_manager = lcu_manager
        self.phase_tracker = phase_tracker
        self.current_champion = None

    def detect_champion(self):
        """ç¾åœ¨ã®ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã‚’æ¤œçŸ¥"""
        if self.phase_tracker.is_in_champ_select():
            return self._detect_from_champ_select()
        elif self.phase_tracker.is_in_game():
            return self._detect_from_live_client()
        return None

    def _detect_from_champ_select(self):
        """ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³é¸æŠç”»é¢ã‹ã‚‰æ¤œçŸ¥ï¼ˆLCU APIï¼‰"""
        # GET /lol-champ-select/v1/session
        pass

    def _detect_from_live_client(self):
        """ã‚²ãƒ¼ãƒ ä¸­ã‹ã‚‰æ¤œçŸ¥ï¼ˆLive Client Data APIï¼‰"""
        # GET https://127.0.0.1:2999/liveclientdata/allgamedata
        pass
```

#### 4. **ChampionEventListener**
```python
class ChampionEventListener:
    """WebSocketã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç›£è¦–"""

    def __init__(self, lcu_manager, on_champion_changed):
        self.lcu_manager = lcu_manager
        self.on_champion_changed = on_champion_changed
        self.ws = None

    def start(self):
        """WebSocketæ¥ç¶šã‚’é–‹å§‹"""
        pass

    def stop(self):
        """WebSocketæ¥ç¶šã‚’åœæ­¢"""
        pass

    def _handle_event(self, event_data):
        """ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†"""
        pass
```

#### 5. **AutoOpenController**
```python
class AutoOpenController:
    """ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³æ¤œçŸ¥æ™‚ã«è‡ªå‹•ã§ãƒšãƒ¼ã‚¸ã‚’é–‹ã"""

    def __init__(self, webview_manager):
        self.webview_manager = webview_manager
        self.last_champion = None

    def on_champion_detected(self, champion_name):
        """ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ãŒæ¤œçŸ¥ã•ã‚ŒãŸã¨ãã®å‡¦ç†"""
        if champion_name != self.last_champion:
            self.last_champion = champion_name
            url = f"https://lolalytics.com/lol/{champion_name.lower()}/build/"
            self.webview_manager.open_url(url)
```

---

## å®Ÿè£…ãƒ•ãƒ­ãƒ¼

### 1. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•æ™‚

```python
def initialize_champion_detection():
    # 1. LCUæ¥ç¶šãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚’åˆæœŸåŒ–
    lcu_manager = LCUConnectionManager()

    # 2. LoLã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®èµ·å‹•ã‚’ç›£è¦–ï¼ˆãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¹ãƒ¬ãƒƒãƒ‰ï¼‰
    while True:
        if lcu_manager.is_client_running():
            if lcu_manager.connect():
                print("LoLã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«æ¥ç¶šã—ã¾ã—ãŸ")
                break
        time.sleep(5)  # 5ç§’ã”ã¨ã«ãƒã‚§ãƒƒã‚¯

    # 3. ã‚²ãƒ¼ãƒ ãƒ•ã‚§ãƒ¼ã‚ºãƒˆãƒ©ãƒƒã‚«ãƒ¼ã‚’é–‹å§‹
    phase_tracker = GamePhaseTracker(lcu_manager)

    # 4. ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³æ¤œçŸ¥å™¨ã‚’åˆæœŸåŒ–
    detector = ChampionDetector(lcu_manager, phase_tracker)

    # 5. WebSocketã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’é–‹å§‹
    listener = ChampionEventListener(
        lcu_manager,
        on_champion_changed=handle_champion_change
    )
    listener.start()

    return detector
```

### 2. ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³æ¤œçŸ¥ãƒ«ãƒ¼ãƒ—

**æ–¹æ³•A: ãƒãƒ¼ãƒªãƒ³ã‚°æ–¹å¼ï¼ˆã‚·ãƒ³ãƒ—ãƒ«ï¼‰**
```python
def polling_loop(detector, auto_open_controller):
    while True:
        champion = detector.detect_champion()
        if champion:
            auto_open_controller.on_champion_detected(champion)
        time.sleep(2)  # 2ç§’ã”ã¨ã«ãƒã‚§ãƒƒã‚¯
```

**æ–¹æ³•B: ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•æ–¹å¼ï¼ˆæ¨å¥¨ï¼‰**
```python
def event_driven_detection(listener, detector, auto_open_controller):
    def on_game_event(event):
        # ã‚²ãƒ¼ãƒ ãƒ•ã‚§ãƒ¼ã‚ºãŒå¤‰æ›´ã•ã‚ŒãŸã‚‰
        if event.type == "gameflow_changed":
            champion = detector.detect_champion()
            if champion:
                auto_open_controller.on_champion_detected(champion)

        # ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³é¸æŠãŒå¤‰æ›´ã•ã‚ŒãŸã‚‰
        elif event.type == "champ_select_updated":
            champion = detector.detect_champion()
            if champion:
                auto_open_controller.on_champion_detected(champion)

    listener.on_event = on_game_event
    listener.start()
```

### 3. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

```python
def robust_detection():
    try:
        # LCU APIã‚’è©¦ã™
        champion = detect_from_lcu()
        if champion:
            return champion
    except ConnectionError:
        pass

    try:
        # Live Client Data APIã‚’è©¦ã™
        champion = detect_from_live_client()
        if champion:
            return champion
    except ConnectionError:
        pass

    # ã©ã¡ã‚‰ã‚‚å¤±æ•—ã—ãŸå ´åˆ
    return None
```

---

## æŠ€è¡“çš„èª²é¡Œã¨è§£æ±ºç­–

### 1. **ãƒãƒ¼ãƒˆç•ªå·ã®å‹•çš„å¤‰æ›´**

**å•é¡Œ**: LCU APIã®ãƒãƒ¼ãƒˆã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆèµ·å‹•ã”ã¨ã«å¤‰ã‚ã‚‹

**è§£æ±ºç­–**:
- Lockfileã‚’å®šæœŸçš„ã«èª­ã¿å–ã‚‹
- ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–ï¼ˆ`watchdog`ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼‰ã§Lockfileã®å¤‰æ›´ã‚’æ¤œçŸ¥
- ãƒ—ãƒ­ã‚»ã‚¹ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰ãƒãƒ¼ãƒˆã‚’å–å¾—

```python
import psutil

def get_lcu_port_from_process():
    for proc in psutil.process_iter(['name', 'cmdline']):
        if proc.info['name'] == 'LeagueClientUx.exe':
            cmdline = ' '.join(proc.info['cmdline'])
            # --app-port=12345 ã‚’æŠ½å‡º
            match = re.search(r'--app-port=(\d+)', cmdline)
            if match:
                return int(match.group(1))
    return None
```

### 2. **è‡ªå·±ç½²åè¨¼æ˜æ›¸**

**å•é¡Œ**: LCU APIã¨Live Client Data APIã¯è‡ªå·±ç½²åè¨¼æ˜æ›¸ã‚’ä½¿ç”¨

**è§£æ±ºç­–**:
- `requests`ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§`verify=False`ã‚’ä½¿ç”¨
- SSLè­¦å‘Šã‚’ç„¡è¦–: `urllib3.disable_warnings()`
- ã¾ãŸã¯ã€Riot Gamesã®ãƒ«ãƒ¼ãƒˆè¨¼æ˜æ›¸ã‚’å–å¾—ã—ã¦æ¤œè¨¼

```python
import urllib3
urllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)

# ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚
requests.get(url, verify=False)
```

### 3. **ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³IDã‹ã‚‰åå‰ã¸ã®å¤‰æ›**

**å•é¡Œ**: LCU APIã¯ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³IDã‚’è¿”ã™ï¼ˆä¾‹: `22`ï¼‰

**è§£æ±ºç­–**: Data Dragon APIã‚’ä½¿ç”¨ã—ã¦ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—

```python
import requests

def load_champion_data():
    """Data Dragonã‹ã‚‰ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ãƒ‡ãƒ¼ã‚¿ã‚’DL"""
    url = "https://ddragon.leagueoflegends.com/cdn/13.24.1/data/en_US/champion.json"
    response = requests.get(url)
    data = response.json()

    # ID -> åå‰ã®ãƒãƒƒãƒ”ãƒ³ã‚°ã‚’ä½œæˆ
    champion_map = {}
    for champ_name, champ_data in data['data'].items():
        champ_id = int(champ_data['key'])
        champion_map[champ_id] = champ_name

    return champion_map

# ä½¿ç”¨ä¾‹
champion_map = load_champion_data()
champion_name = champion_map.get(22)  # "Ashe"
```

**æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®å–å¾—**:
```python
def get_latest_version():
    url = "https://ddragon.leagueoflegends.com/api/versions.json"
    response = requests.get(url)
    versions = response.json()
    return versions[0]  # æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³
```

### 4. **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæœªèµ·å‹•æ™‚ã®å‡¦ç†**

**å•é¡Œ**: LoLã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒèµ·å‹•ã—ã¦ã„ãªã„å ´åˆã®æ¤œçŸ¥

**è§£æ±ºç­–**:
- ãƒ—ãƒ­ã‚»ã‚¹ç›£è¦–ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆèµ·å‹•ã‚’æ¤œçŸ¥
- ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¹ãƒ¬ãƒƒãƒ‰ã§å®šæœŸçš„ã«ãƒã‚§ãƒƒã‚¯
- æ¥ç¶šå¤±æ•—æ™‚ã¯å†æ¥ç¶šã‚’è©¦ã¿ã‚‹

```python
def wait_for_client():
    print("LoLã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®èµ·å‹•ã‚’å¾…æ©Ÿä¸­...")
    while True:
        if is_lol_client_running():
            print("LoLã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’æ¤œçŸ¥ã—ã¾ã—ãŸ")
            return True
        time.sleep(5)

def is_lol_client_running():
    for proc in psutil.process_iter(['name']):
        if proc.info['name'] in ['LeagueClient.exe', 'LeagueClientUx.exe']:
            return True
    return False
```

### 5. **è¤‡æ•°è©¦åˆã®é€£ç¶šãƒ—ãƒ¬ã‚¤**

**å•é¡Œ**: è©¦åˆçµ‚äº†å¾Œã€æ¬¡ã®è©¦åˆã§æ–°ã—ã„ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã‚’æ¤œçŸ¥

**è§£æ±ºç­–**:
- ã‚²ãƒ¼ãƒ ãƒ•ã‚§ãƒ¼ã‚ºã®é·ç§»ã‚’ç›£è¦–
- `WaitingForStats` â†’ `None` â†’ `ChampSelect` ã®æµã‚Œã‚’è¿½è·¡
- å‰å›ã®ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã‚’ã‚¯ãƒªã‚¢ã—ã¦æ–°ã—ã„æ¤œçŸ¥ã‚’å¾…ã¤

```python
def on_phase_changed(new_phase):
    global current_champion

    if new_phase == "None":
        # ã‚²ãƒ¼ãƒ çµ‚äº†ã€ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã‚’ã‚¯ãƒªã‚¢
        current_champion = None
    elif new_phase == "ChampSelect":
        # æ–°ã—ã„ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³é¸æŠé–‹å§‹
        detect_new_champion()
```

---

## çµ±åˆå®Ÿè£…ä¾‹

### å®Œå…¨ãªå®Ÿè£…ã‚µãƒ³ãƒ—ãƒ«

```python
import requests
import urllib3
import json
import time
import base64
from threading import Thread

urllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)

class LoLChampionDetector:
    def __init__(self):
        self.lcu_port = None
        self.lcu_password = None
        self.current_champion = None
        self.champion_map = self.load_champion_map()
        self.running = False

    def load_champion_map(self):
        """ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³IDã¨åå‰ã®ãƒãƒƒãƒ”ãƒ³ã‚°ã‚’èª­ã¿è¾¼ã¿"""
        try:
            version_url = "https://ddragon.leagueoflegends.com/api/versions.json"
            version = requests.get(version_url).json()[0]

            champion_url = f"https://ddragon.leagueoflegends.com/cdn/{version}/data/en_US/champion.json"
            data = requests.get(champion_url).json()

            return {int(v['key']): k for k, v in data['data'].items()}
        except Exception as e:
            print(f"ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼: {e}")
            return {}

    def read_lockfile(self):
        """Lockfileã‚’èª­ã¿å–ã£ã¦ãƒãƒ¼ãƒˆã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å–å¾—"""
        lockfile_path = r"C:\Riot Games\League of Legends\lockfile"
        try:
            with open(lockfile_path, 'r') as f:
                data = f.read().split(':')
                self.lcu_port = data[2]
                self.lcu_password = data[3]
                return True
        except FileNotFoundError:
            return False

    def make_lcu_request(self, endpoint):
        """LCU APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡"""
        if not self.lcu_port or not self.lcu_password:
            return None

        auth = base64.b64encode(f"riot:{self.lcu_password}".encode()).decode()
        headers = {'Authorization': f'Basic {auth}'}
        url = f"https://127.0.0.1:{self.lcu_port}{endpoint}"

        try:
            response = requests.get(url, headers=headers, verify=False, timeout=5)
            if response.status_code == 200:
                return response.json()
        except Exception:
            pass
        return None

    def get_gameflow_phase(self):
        """ç¾åœ¨ã®ã‚²ãƒ¼ãƒ ãƒ•ã‚§ãƒ¼ã‚ºã‚’å–å¾—"""
        data = self.make_lcu_request("/lol-gameflow/v1/session")
        if data:
            return data.get('phase', 'None')
        return 'None'

    def detect_from_champ_select(self):
        """ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³é¸æŠç”»é¢ã‹ã‚‰æ¤œçŸ¥"""
        data = self.make_lcu_request("/lol-champ-select/v1/session")
        if not data:
            return None

        local_player_cell_id = data.get('localPlayerCellId')
        if local_player_cell_id is None:
            return None

        # è‡ªåˆ†ã®ãƒãƒ¼ãƒ ã‹ã‚‰è‡ªåˆ†ã®ã‚»ãƒ«ã‚’æ¢ã™
        for player in data.get('myTeam', []):
            if player.get('cellId') == local_player_cell_id:
                champion_id = player.get('championId', 0)
                if champion_id > 0:
                    return self.champion_map.get(champion_id)

        return None

    def detect_champion(self):
        """ç¾åœ¨ã®ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã‚’æ¤œçŸ¥ï¼ˆLCU APIå˜ç‹¬ï¼‰"""
        phase = self.get_gameflow_phase()

        if phase == 'ChampSelect':
            # ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³é¸æŠä¸­ - LCU APIã‹ã‚‰å–å¾—
            champion = self.detect_from_champ_select()
            if champion:
                # é¸æŠã•ã‚ŒãŸãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã‚’è¨˜æ†¶ï¼ˆã‚²ãƒ¼ãƒ ä¸­ã‚‚ä½¿ç”¨ï¼‰
                self.current_champion = champion
            return champion

        elif phase == 'InProgress':
            # ã‚²ãƒ¼ãƒ ä¸­ - é¸æŠæ™‚ã®ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã‚’ä¿æŒ
            return self.current_champion

        elif phase == 'None' or phase == 'Lobby':
            # ãƒ¡ã‚¤ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼/ãƒ­ãƒ“ãƒ¼ - çŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆ
            self.current_champion = None
            return None

        return self.current_champion

    def start_monitoring(self, callback):
        """ç›£è¦–ã‚’é–‹å§‹"""
        self.running = True

        def monitor_loop():
            while self.running:
                # Lockfileã‚’èª­ã¿å–ã‚‹
                self.read_lockfile()

                # ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã‚’æ¤œçŸ¥
                champion = self.detect_champion()

                # å¤‰æ›´ãŒã‚ã‚Œã°ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’å‘¼ã¶
                if champion and champion != self.current_champion:
                    self.current_champion = champion
                    callback(champion)

                time.sleep(2)

        thread = Thread(target=monitor_loop, daemon=True)
        thread.start()

    def stop_monitoring(self):
        """ç›£è¦–ã‚’åœæ­¢"""
        self.running = False

# ä½¿ç”¨ä¾‹
def on_champion_detected(champion_name):
    print(f"ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³æ¤œçŸ¥: {champion_name}")
    url = f"https://lolalytics.com/lol/{champion_name.lower()}/build/"
    print(f"è‡ªå‹•ã§é–‹ãURL: {url}")
    # ã“ã“ã§WebViewã‚’é–‹ãå‡¦ç†ã‚’å®Ÿè£…

if __name__ == "__main__":
    detector = LoLChampionDetector()
    detector.start_monitoring(on_champion_detected)

    try:
        while True:
            time.sleep(1)
    except KeyboardInterrupt:
        detector.stop_monitoring()
```

---

## Qt/PySideã¸ã®çµ±åˆ

### QTimerã‚’ä½¿ç”¨ã—ãŸå®Ÿè£…

```python
from PySide6.QtCore import QTimer, QObject, Signal
from PySide6.QtWidgets import QApplication

class ChampionDetectorService(QObject):
    champion_detected = Signal(str)  # ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³åã‚’é€šçŸ¥

    def __init__(self):
        super().__init__()
        self.detector = LoLChampionDetector()
        self.timer = QTimer()
        self.timer.timeout.connect(self.check_champion)
        self.last_champion = None

    def start(self):
        """æ¤œçŸ¥ã‚’é–‹å§‹ï¼ˆ2ç§’ã”ã¨ï¼‰"""
        self.timer.start(2000)

    def stop(self):
        """æ¤œçŸ¥ã‚’åœæ­¢"""
        self.timer.stop()

    def check_champion(self):
        """ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã‚’ãƒã‚§ãƒƒã‚¯"""
        self.detector.read_lockfile()
        champion = self.detector.detect_champion()

        if champion and champion != self.last_champion:
            self.last_champion = champion
            self.champion_detected.emit(champion)

# ãƒ¡ã‚¤ãƒ³ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ã®ä½¿ç”¨
class MainWindow(QMainWindow):
    def __init__(self):
        super().__init__()
        self.detector_service = ChampionDetectorService()
        self.detector_service.champion_detected.connect(self.on_champion_detected)
        self.detector_service.start()

    def on_champion_detected(self, champion_name):
        """ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ãŒæ¤œçŸ¥ã•ã‚ŒãŸã¨ãã®å‡¦ç†"""
        url = f"https://lolalytics.com/lol/{champion_name.lower()}/build/"
        self.webview.load(url)  # WebViewã§URLã‚’é–‹ã
```

---

## ãƒ†ã‚¹ãƒˆæ–¹æ³•

### 1. LCUæ¥ç¶šãƒ†ã‚¹ãƒˆ

```python
def test_lcu_connection():
    detector = LoLChampionDetector()
    if detector.read_lockfile():
        print(f"âœ“ Lockfileèª­ã¿å–ã‚ŠæˆåŠŸ")
        print(f"  ãƒãƒ¼ãƒˆ: {detector.lcu_port}")
        print(f"  ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: {detector.lcu_password[:4]}...")
    else:
        print("âœ— LockfileãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“")

    phase = detector.get_gameflow_phase()
    print(f"âœ“ ã‚²ãƒ¼ãƒ ãƒ•ã‚§ãƒ¼ã‚º: {phase}")
```

### 2. ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³é¸æŠãƒ†ã‚¹ãƒˆ

```python
def test_champ_select():
    detector = LoLChampionDetector()
    detector.read_lockfile()

    # ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³é¸æŠç”»é¢ã«å…¥ã£ã¦ã‹ã‚‰å®Ÿè¡Œ
    champion = detector.detect_from_champ_select()
    if champion:
        print(f"âœ“ æ¤œçŸ¥æˆåŠŸ: {champion}")
    else:
        print("âœ— ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ãŒæ¤œçŸ¥ã•ã‚Œã¾ã›ã‚“ã§ã—ãŸ")
```

### 3. ã‚²ãƒ¼ãƒ ä¸­ãƒ†ã‚¹ãƒˆ

```python
def test_in_game():
    detector = LoLChampionDetector()

    # ã‚²ãƒ¼ãƒ ä¸­ã«å®Ÿè¡Œ
    champion = detector.detect_from_live_client()
    if champion:
        print(f"âœ“ æ¤œçŸ¥æˆåŠŸ: {champion}")
    else:
        print("âœ— ã‚²ãƒ¼ãƒ ãŒé–‹å§‹ã•ã‚Œã¦ã„ã¾ã›ã‚“")
```

### 4. çµ±åˆãƒ†ã‚¹ãƒˆ

```python
def integration_test():
    print("=== çµ±åˆãƒ†ã‚¹ãƒˆé–‹å§‹ ===")

    def callback(champion):
        print(f"[ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯] ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³æ¤œçŸ¥: {champion}")

    detector = LoLChampionDetector()
    detector.start_monitoring(callback)

    print("ç›£è¦–ä¸­... (Ctrl+Cã§åœæ­¢)")
    try:
        while True:
            time.sleep(1)
    except KeyboardInterrupt:
        detector.stop_monitoring()
        print("\n=== ãƒ†ã‚¹ãƒˆçµ‚äº† ===")
```

---

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### 1. ãƒãƒ¼ãƒªãƒ³ã‚°é–“éš”ã®èª¿æ•´

```python
# çŠ¶æ…‹ã«å¿œã˜ã¦ãƒãƒ¼ãƒªãƒ³ã‚°é–“éš”ã‚’å¤‰æ›´
def adaptive_polling():
    phase = get_gameflow_phase()

    if phase in ['ChampSelect', 'InProgress']:
        return 1  # 1ç§’ï¼ˆã‚¢ã‚¯ãƒ†ã‚£ãƒ–æ™‚ï¼‰
    elif phase == 'Lobby':
        return 3  # 3ç§’ï¼ˆå¾…æ©Ÿæ™‚ï¼‰
    else:
        return 5  # 5ç§’ï¼ˆéã‚¢ã‚¯ãƒ†ã‚£ãƒ–æ™‚ï¼‰
```

### 2. ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°

```python
class CachedDetector:
    def __init__(self):
        self.cache = {}
        self.cache_duration = 5  # 5ç§’é–“ã‚­ãƒ£ãƒƒã‚·ãƒ¥

    def get_gameflow_phase(self):
        now = time.time()
        if 'phase' in self.cache:
            cached_time, cached_value = self.cache['phase']
            if now - cached_time < self.cache_duration:
                return cached_value

        phase = self._fetch_gameflow_phase()
        self.cache['phase'] = (now, phase)
        return phase
```

### 3. éåŒæœŸå‡¦ç†

```python
import asyncio
import aiohttp

async def async_detect_champion():
    async with aiohttp.ClientSession() as session:
        # ä¸¦è¡Œã—ã¦LCUã¨Live Clientã‚’ãƒã‚§ãƒƒã‚¯
        tasks = [
            fetch_lcu_data(session),
            fetch_live_client_data(session)
        ]
        results = await asyncio.gather(*tasks, return_exceptions=True)

        for result in results:
            if result and not isinstance(result, Exception):
                return result
        return None
```

---

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼

### 1. **ãƒ­ãƒ¼ã‚«ãƒ«å‡¦ç†ã®ã¿**
- ã™ã¹ã¦ã®å‡¦ç†ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã§å®Œçµ
- å¤–éƒ¨ã‚µãƒ¼ãƒãƒ¼ã¸ã®ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³æƒ…å ±é€ä¿¡ãªã—
- Data Dragon APIã®ã¿åˆ©ç”¨ï¼ˆå…¬é–‹ãƒ‡ãƒ¼ã‚¿ï¼‰

### 2. **èªè¨¼æƒ…å ±ã®å–ã‚Šæ‰±ã„**
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ãƒ¡ãƒ¢ãƒªä¸Šã§ã®ã¿ä¿æŒ
- ãƒ­ã‚°ã«è¨˜éŒ²ã—ãªã„
- ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã—ãªã„

### 3. **åˆ©ç”¨è¦ç´„ã®éµå®ˆ**
- Riot Games Developer Policyã«æº–æ‹ 
- ãƒ¡ãƒ¢ãƒªæ”¹ã–ã‚“ã¯è¡Œã‚ãªã„
- ã‚²ãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤ã«å½±éŸ¿ã‚’ä¸ãˆãªã„

---

## ä»Šå¾Œã®æ‹¡å¼µå¯èƒ½æ€§

### 1. ã‚¿ã‚¹ã‚¯7ã¸ã®å¿œç”¨ âœ…
ã€ŒLoLã®BanPickç”»é¢ã§ç›¸æ‰‹ãŒé¸æŠã—ãŸãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³5ä½“ã®ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ãƒšãƒ¼ã‚¸ã‚’è‡ªå‹•ã§é–‹ãã€

**å®Œå…¨å®Ÿè£…å¯èƒ½ï¼** åŒã˜`/lol-champ-select/v1/session`ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§å–å¾—å¯èƒ½ã€‚

**å®Ÿè£…æ–¹æ³•**:
```python
def detect_enemy_champions():
    """ç›¸æ‰‹ãƒãƒ¼ãƒ 5ä½“ã®ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã‚’æ¤œçŸ¥"""
    data = make_lcu_request("/lol-champ-select/v1/session")
    enemy_champions = []

    # theirTeamã‹ã‚‰ç›¸æ‰‹å…¨å“¡ã®ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³IDã‚’å–å¾—
    for player in data.get('theirTeam', []):
        champion_id = player.get('championId', 0)
        if champion_id > 0:
            champion_name = champion_map.get(champion_id)
            if champion_name:
                enemy_champions.append(champion_name)

    return enemy_champions

def auto_open_counter_pages():
    """ç›¸æ‰‹5ä½“ã®ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ãƒšãƒ¼ã‚¸ã‚’è‡ªå‹•ã§é–‹ã"""
    enemy_champions = detect_enemy_champions()

    # å„ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã®ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ãƒšãƒ¼ã‚¸ã‚’é–‹ã
    for champion in enemy_champions:
        url = f"https://lolalytics.com/lol/{champion.lower()}/counters/"
        open_new_webview(url)

    print(f"{len(enemy_champions)}ä½“ã®ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ãƒšãƒ¼ã‚¸ã‚’é–‹ãã¾ã—ãŸ")
```

**Banæƒ…å ±ã‚‚å–å¾—å¯èƒ½**:
```python
def get_ban_info():
    """Banæƒ…å ±ã‚’å–å¾—"""
    data = make_lcu_request("/lol-champ-select/v1/session")
    bans = data.get('bans', {})

    my_bans = [champion_map.get(cid) for cid in bans.get('myTeamBans', [])]
    their_bans = [champion_map.get(cid) for cid in bans.get('theirTeamBans', [])]

    return my_bans, their_bans
```

### 2. ãƒ“ãƒ«ãƒ‰æ¨å¥¨æ©Ÿèƒ½
- ç›¸æ‰‹ãƒãƒ¼ãƒ ã®æ§‹æˆã‚’åˆ†æ
- LoLAnalyticsã‹ã‚‰æ¨å¥¨ãƒ“ãƒ«ãƒ‰ã‚’å–å¾—
- ã‚¢ã‚¤ãƒ†ãƒ ãƒ“ãƒ«ãƒ‰ã®è‡ªå‹•ææ¡ˆ

### 3. çµ±è¨ˆè¡¨ç¤º
- å‹ç‡ã€ãƒ”ãƒƒã‚¯ç‡ã®è¡¨ç¤º
- éå»ã®è©¦åˆå±¥æ­´
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°

---

## å‚è€ƒãƒªãƒ³ã‚¯

### å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [Riot Developer Portal](https://developer.riotgames.com/)
- [Data Dragon](https://developer.riotgames.com/docs/lol#data-dragon)
- [Live Client Data API](https://developer.riotgames.com/docs/lol#game-client-api)

### ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [LCU API Documentation](https://lcu.kebs.dev/)
- [Riot API Libraries](https://riot-api-libraries.readthedocs.io/en/latest/lcu.html)
- [HextechDocs](https://hextechdocs.dev/) â€»ç¾åœ¨503ã‚¨ãƒ©ãƒ¼

### ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- [league-connect (Node.js)](https://www.npmjs.com/package/league-connect)
- [lcu-driver (Python)](https://lcu-driver.readthedocs.io/)
- [lcu-sharp (C#)](https://github.com/bryanhitc/lcu-sharp)

### ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰
- [LCU Connection Examples](https://github.com/Pupix/lcu-connector)
- [Champion Select Session Example](https://gist.github.com/xadamxk/8cb5d21d24bb78d63c5241e97087bb23)

---

## ã¾ã¨ã‚

ã‚¿ã‚¹ã‚¯5ã€Œãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³è‡ªå‹•æ¤œçŸ¥æ©Ÿèƒ½ã€ã¨ã‚¿ã‚¹ã‚¯7ã€Œç›¸æ‰‹5ä½“ã®ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼è¡¨ç¤ºã€ã¯ã€**LCU APIå˜ç‹¬**ã§å®Œå…¨ã«å®Ÿè£…å¯èƒ½ã§ã™ã€‚

### é‡è¦ãƒã‚¤ãƒ³ãƒˆï¼ˆæ”¹å®šç‰ˆï¼‰

1. **LCU APIå˜ç‹¬ã§ååˆ†** - Live Client Data APIã¯ä¸è¦
2. **`/lol-champ-select/v1/session`** - ã“ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ1ã¤ã§å…¨ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
   - è‡ªåˆ†ã®ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³: `myTeam[localPlayerCellId].championId`
   - ç›¸æ‰‹ã®ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³: `theirTeam[].championId`ï¼ˆã‚¿ã‚¹ã‚¯7ã§ä½¿ç”¨ï¼‰
   - Banæƒ…å ±: `bans.myTeamBans` / `bans.theirTeamBans`
3. **WebSocketã‚¤ãƒ™ãƒ³ãƒˆ**ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¤œçŸ¥ï¼ˆæ¨å¥¨ï¼‰
4. **Lockfile**ã‹ã‚‰ãƒãƒ¼ãƒˆã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å‹•çš„å–å¾—
5. **Data Dragon**ã§ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³IDâ†’åå‰å¤‰æ›

### ãªãœLCU APIã ã‘ã§ååˆ†ï¼Ÿ

âœ… ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã¯é¸æŠæ™‚ã«ç¢ºå®šã—ã€ã‚²ãƒ¼ãƒ ä¸­ã¯å¤‰ã‚ã‚‰ãªã„
âœ… ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³é¸æŠãƒ•ã‚§ãƒ¼ã‚ºã§å…¨æƒ…å ±ï¼ˆè‡ªåˆ†ãƒ»ç›¸æ‰‹ãƒ»Banï¼‰ãŒæƒã†
âœ… ã‚·ãƒ³ãƒ—ãƒ«ãªå®Ÿè£…ã§ä¿å®ˆæ€§ãŒé«˜ã„
âœ… èªè¨¼ãŒ1ç®‡æ‰€ã®ã¿ï¼ˆLive Client Data APIã¯åˆ¥é€”SSLå‡¦ç†ãŒå¿…è¦ï¼‰

### å®Ÿè£…ã®å„ªå…ˆé †ä½ï¼ˆæ”¹å®šç‰ˆï¼‰

1. âœ… **Phase 1**: Lockfileèª­ã¿å–ã‚Šã¨LCUæ¥ç¶š
2. âœ… **Phase 2**: ã‚²ãƒ¼ãƒ ãƒ•ã‚§ãƒ¼ã‚ºæ¤œçŸ¥ï¼ˆ`/lol-gameflow/v1/session`ï¼‰
3. âœ… **Phase 3**: ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³é¸æŠã§ã®æ¤œçŸ¥ï¼ˆ`/lol-champ-select/v1/session`ï¼‰
4. âœ… **Phase 4**: è‡ªåˆ†ã®ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã§ãƒ“ãƒ«ãƒ‰ãƒšãƒ¼ã‚¸ã‚’è‡ªå‹•ã‚ªãƒ¼ãƒ—ãƒ³ï¼ˆã‚¿ã‚¹ã‚¯5ï¼‰
5. âœ… **Phase 5**: ç›¸æ‰‹5ä½“ã§ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ãƒšãƒ¼ã‚¸ã‚’è‡ªå‹•ã‚ªãƒ¼ãƒ—ãƒ³ï¼ˆã‚¿ã‚¹ã‚¯7ï¼‰
6. ğŸ”„ **Phase 6**: WebSocketã‚¤ãƒ™ãƒ³ãƒˆçµ±åˆï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ï¼‰
7. ğŸ”„ **Phase 7**: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨æœ€é©åŒ–

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«åŸºã¥ã„ã¦å®Ÿè£…ã‚’é€²ã‚ã‚‹ã“ã¨ã§ã€ã‚·ãƒ³ãƒ—ãƒ«ã‹ã¤å …ç‰¢ãªãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³è‡ªå‹•æ¤œçŸ¥æ©Ÿèƒ½ã‚’æ§‹ç¯‰ã§ãã¾ã™ã€‚
